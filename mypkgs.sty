%% ------------------------------------------
%% Author: Taishi Nakashima (taishi@ieee.org)
%% Last update: 2021/12/01
%% ------------------------------------------
\usepackage[linesnumberedhidden,ruled,vlined]{algorithm2e}
\usepackage{booktabs}
\usepackage{calc}
\usepackage[nobreak,super]{cite}
\usepackage{color}
\usepackage{pxrubrica}
\usepackage{url}
\usepackage{setspace}
\usepackage{siunitx}
\usepackage[skip=0pt,labelformat=simple]{subcaption}
\renewcommand{\thesubfigure}{}
\renewcommand{\thefigure}{}
\renewcommand{\figurename}{}

% math symbols
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{diffcoeff}
\usepackage{dsfont}
\usepackage{latexsym}
\usepackage{mathtools}
\usepackage{mdframed}
\usepackage{verbatim}

% multibib
\usepackage{multibib}
\newcites{P}{発表文献}
\newcites{D}{国内会議}
\newcites{I}{国際会議}
\newcites{C}{共著}
\newcites{CI}{共著}

\usepackage{tcolorbox}
\tcbuselibrary{theorems,skins}
\usepackage{tikz}
\usepackage{pxpgfmark}
\usetikzlibrary{shapes.callouts}
\usetikzlibrary{positioning}
\usepackage[utf8]{inputenc}

\usepackage{hyperref}
\hypersetup{%
  hidelinks,
  colorlinks,
  linkcolor=,
  urlcolor=midori,
  pdfstartview=Fit,
  breaklinks=true
}

% 絵文字
\usepackage{graphicx}
\usepackage{emoji}
\usepackage{fontawesome}
\usepackage{wasysym}

% itemizeのラベル用
\newcommand{\pros}{\textcolor{structure.fg}{\faThumbsOUp}}
\newcommand{\cons}{\textcolor{alerted text.fg}{\faThumbsODown}}
\newcommand{\goal}{\textcolor{structure.fg}{\faAngleRight}}
\newcommand{\todo}{\Square}
\newcommand{\done}{\CheckedBox}
\newcommand{\rmark}{\faHandORight}
\newcommand{\new}{\emoji{new-button}}
\newenvironment{trienv}{\only{\setbeamertemplate{items}[triangle]}}{}

% custom footnote
\renewcommand{\thefootnote}{\arabic{footnote}}

% TikZ commands to highlight math symbols
% reference: https://qiita.com/t_kemmochi/items/483b8fcdb5db8d1f5d5e
% <#7: overlayのタイミング>{#1: 数式}{#2: 数式の説明}{#3 網掛けの下端中央から数式の説明までの差分}{#4 数式の説明の開始位置}{#5 網掛けの色}{#5 網掛けの高さ}
\newcommand<>{\hlmath}[6]{%
    \tcboxmath[
      enhanced,
      frame hidden,
      interior hidden,
      size=minimal,
      overlay={\onslide#7{\fill[#5!20] (frame.south west) rectangle ([yshift=#6]frame.south east);}},
      underlay={\onslide#7{\draw[#5] (frame.south) to +#3 node[#4] {\textbf{#2}};}}
    ]{#1}
}

% \includegraphics するときに `fig/` を省略できる
\graphicspath{{./fig/}}

% BibTeX
\makeatletter
\def\bstctlcite{\@ifnextchar[{\@bstctlcite}{\@bstctlcite[@auxout]}}
\def\@bstctlcite[#1]#2{\@bsphack%
\@for\@citeb:=#2\do{%
  \edef\@citeb{\expandafter\@firstofone\@citeb}%
    \if@filesw\immediate\write\csname #1\endcsname{\string\citation{\@citeb}}\fi}%
  \@esphack}
\renewcommand\@citess[1]{\textsuperscript{~[#1]}}
\makeatother%chktex 17
